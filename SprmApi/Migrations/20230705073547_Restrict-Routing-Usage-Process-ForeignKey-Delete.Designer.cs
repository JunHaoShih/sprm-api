// <auto-generated />
using System;
using System.Collections.Generic;
using System.Text.Json;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using SprmApi.Core.Customs;
using SprmApi.EFs;

#nullable disable

namespace SprmApi.Migrations
{
    [DbContext(typeof(SPRMContext))]
    [Migration("20230705073547_Restrict-Routing-Usage-Process-ForeignKey-Delete")]
    partial class RestrictRoutingUsageProcessForeignKeyDelete
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "7.0.4")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("SprmApi.Core.AppUsers.AppUser", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<string>("FullName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("full_name")
                        .HasComment("App使用者姓名");

                    b.Property<string>("Password")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("password")
                        .HasComment("Password hash");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.Property<string>("Username")
                        .IsRequired()
                        .HasMaxLength(30)
                        .HasColumnType("varchar(30)")
                        .HasColumnName("username")
                        .HasComment("App使用者名稱");

                    b.HasKey("Id");

                    b.ToTable("app_users", "sprm", t =>
                        {
                            t.HasComment("App使用者");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.Customs.AttributeLink", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long>("AttributeId")
                        .HasColumnType("bigint")
                        .HasColumnName("attribute_id")
                        .HasComment("自訂屬性id");

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<long>("ObjectTypeId")
                        .HasColumnType("bigint")
                        .HasColumnName("object_type_id")
                        .HasComment("物件類型id");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("AttributeId");

                    b.HasIndex("ObjectTypeId", "AttributeId")
                        .IsUnique();

                    b.ToTable("attribute_links", "sprm", t =>
                        {
                            t.HasComment("類型屬性");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.Customs.CustomAttribute", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("AttributeType")
                        .HasColumnType("integer")
                        .HasColumnName("attribute_type")
                        .HasComment("自訂屬性類型");

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<int>("DisplayType")
                        .HasColumnType("integer")
                        .HasColumnName("display_type")
                        .HasComment("自訂屬性顯示類型");

                    b.Property<bool>("IsDisabled")
                        .HasColumnType("boolean")
                        .HasColumnName("is_disabled")
                        .HasComment("是否停用");

                    b.Property<bool>("IsSystemDefault")
                        .HasColumnType("boolean")
                        .HasColumnName("is_system_default")
                        .HasComment("是否為系統預設");

                    b.Property<Dictionary<string, string>>("Languages")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("languages")
                        .HasComment("語系與對應翻譯");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("name")
                        .HasComment("名稱");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("number")
                        .HasComment("編號");

                    b.Property<IEnumerable<CustomOption>>("Options")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("options")
                        .HasComment("自訂選項");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("Number")
                        .IsUnique();

                    b.ToTable("custom_attributes", "sprm", t =>
                        {
                            t.HasComment("自訂屬性");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.MakeTypes.MakeType", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<bool>("IsSystemDefault")
                        .HasColumnType("boolean")
                        .HasColumnName("is_system_default")
                        .HasComment("是否為系統預設");

                    b.Property<Dictionary<string, string>>("Languages")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("languages")
                        .HasComment("語系與對應翻譯");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("name")
                        .HasComment("名稱");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("number")
                        .HasComment("編號");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("Number")
                        .IsUnique();

                    b.ToTable("make_types", "sprm", t =>
                        {
                            t.HasComment("製造類型");
                        });

                    b.HasData(
                        new
                        {
                            Id = 1L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3537),
                            CreateUser = "system",
                            IsSystemDefault = true,
                            Languages = new Dictionary<string, string>(),
                            Name = "自製",
                            Number = "SPRM_SELF_MADE",
                            Remarks = "System default, do not modify it",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3541),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 2L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3546),
                            CreateUser = "system",
                            IsSystemDefault = true,
                            Languages = new Dictionary<string, string>(),
                            Name = "外包",
                            Number = "SPRM_OUTSOURCE",
                            Remarks = "System default, do not modify it",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3547),
                            UpdateUser = "system"
                        });
                });

            modelBuilder.Entity("SprmApi.Core.ObjectTypes.ObjectType", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("name")
                        .HasComment("物件名稱");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("varchar(200)")
                        .HasColumnName("number")
                        .HasComment("物件類型編號");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("Number")
                        .IsUnique();

                    b.ToTable("object_types", "sprm", t =>
                        {
                            t.HasComment("物件類型");
                        });

                    b.HasData(
                        new
                        {
                            Id = 1L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3619),
                            CreateUser = "system",
                            Name = "料件",
                            Number = "PartVersion",
                            Remarks = "料件",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3619),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 2L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3626),
                            CreateUser = "system",
                            Name = "料件使用關係",
                            Number = "PartUsage",
                            Remarks = "料件使用關係",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3626),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 3L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3628),
                            CreateUser = "system",
                            Name = "工藝路徑",
                            Number = "Routing",
                            Remarks = "工藝路徑",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3629),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 4L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3631),
                            CreateUser = "system",
                            Name = "工藝路徑版本",
                            Number = "RoutingVersion",
                            Remarks = "工藝路徑版本",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3631),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 5L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3634),
                            CreateUser = "system",
                            Name = "製程",
                            Number = "Process",
                            Remarks = "製程",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3635),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 6L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3638),
                            CreateUser = "system",
                            Name = "工藝路徑使用關係",
                            Number = "RoutingProcess",
                            Remarks = "工藝路徑使用關係",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3639),
                            UpdateUser = "system"
                        });
                });

            modelBuilder.Entity("SprmApi.Core.PartUsages.PartUsage", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long>("ChildId")
                        .HasColumnType("bigint")
                        .HasColumnName("child_id")
                        .HasComment("子零件id");

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<JsonDocument>("CustomValues")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("custom_values")
                        .HasComment("自訂屬性值");

                    b.Property<long>("ParentId")
                        .HasColumnType("bigint")
                        .HasColumnName("parent_id")
                        .HasComment("父零件版本id");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer")
                        .HasColumnName("quantity")
                        .HasComment("使用數量");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("ChildId");

                    b.HasIndex("ParentId", "ChildId")
                        .IsUnique();

                    b.ToTable("part_usages", "sprm", t =>
                        {
                            t.HasComment("零件使用關係");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.Parts.Part", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<bool>("Checkout")
                        .HasColumnType("boolean")
                        .HasColumnName("checkout")
                        .HasComment("是否簽出");

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("name")
                        .HasComment("零件名稱");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("number")
                        .HasComment("料號");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.Property<int>("ViewType")
                        .HasColumnType("integer")
                        .HasColumnName("view_type")
                        .HasComment("視圖類型");

                    b.HasKey("Id");

                    b.HasIndex("Number", "ViewType")
                        .IsUnique();

                    b.ToTable("parts", "sprm", t =>
                        {
                            t.HasComment("零件");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.Parts.PartVersion", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<JsonDocument>("CustomValues")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("custom_values")
                        .HasComment("自訂屬性值");

                    b.Property<bool>("IsDraft")
                        .HasColumnType("boolean")
                        .HasColumnName("is_draft")
                        .HasComment("是否為草稿");

                    b.Property<bool>("IsLatest")
                        .HasColumnType("boolean")
                        .HasColumnName("is_latest")
                        .HasComment("是否為最新版");

                    b.Property<long>("MasterId")
                        .HasColumnType("bigint")
                        .HasColumnName("master_id")
                        .HasComment("master id");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.Property<int>("Version")
                        .HasColumnType("integer")
                        .HasColumnName("version")
                        .HasComment("版本號");

                    b.HasKey("Id");

                    b.HasIndex("MasterId", "Version")
                        .IsUnique();

                    b.ToTable("part_versions", "sprm", t =>
                        {
                            t.HasComment("零件");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.ProcessTypes.ProcessType", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<bool>("IsSystemDefault")
                        .HasColumnType("boolean")
                        .HasColumnName("is_system_default")
                        .HasComment("是否為系統預設");

                    b.Property<Dictionary<string, string>>("Languages")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("languages")
                        .HasComment("語系與對應翻譯");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("name")
                        .HasComment("名稱");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("number")
                        .HasComment("編號");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("Number")
                        .IsUnique();

                    b.ToTable("process_types", "sprm", t =>
                        {
                            t.HasComment("製程類型");
                        });

                    b.HasData(
                        new
                        {
                            Id = 1L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3583),
                            CreateUser = "system",
                            IsSystemDefault = true,
                            Languages = new Dictionary<string, string>(),
                            Name = "加工製程",
                            Number = "SPRM_PROCESSING",
                            Remarks = "System default, do not modify it",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3583),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 2L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3586),
                            CreateUser = "system",
                            IsSystemDefault = true,
                            Languages = new Dictionary<string, string>(),
                            Name = "檢驗製程",
                            Number = "SPRM_QUALITY_CONTROL",
                            Remarks = "System default, do not modify it",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3587),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 3L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3589),
                            CreateUser = "system",
                            IsSystemDefault = true,
                            Languages = new Dictionary<string, string>(),
                            Name = "組裝製程",
                            Number = "SPRM_ASSEMBLE",
                            Remarks = "System default, do not modify it",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3589),
                            UpdateUser = "system"
                        },
                        new
                        {
                            Id = 4L,
                            CreateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3591),
                            CreateUser = "system",
                            IsSystemDefault = true,
                            Languages = new Dictionary<string, string>(),
                            Name = "運輸製程",
                            Number = "SPRM_TRANSPORT",
                            Remarks = "System default, do not modify it",
                            UpdateDate = new DateTime(2023, 7, 5, 7, 35, 47, 435, DateTimeKind.Utc).AddTicks(3592),
                            UpdateUser = "system"
                        });
                });

            modelBuilder.Entity("SprmApi.Core.Processes.Process", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<JsonDocument>("CustomValues")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("custom_values")
                        .HasComment("自訂屬性值");

                    b.Property<int>("DefaultExportTime")
                        .HasColumnType("integer")
                        .HasColumnName("default_export_time")
                        .HasComment("預設下料工時(毫秒)");

                    b.Property<int>("DefaultImportTime")
                        .HasColumnType("integer")
                        .HasColumnName("default_import_time")
                        .HasComment("預設上料工時(毫秒)");

                    b.Property<long>("DefaultMakeTypeId")
                        .HasColumnType("bigint")
                        .HasColumnName("default_make_type_id")
                        .HasComment("預設製造類型id");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("name")
                        .HasComment("製程名稱");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("number")
                        .HasComment("製程代碼");

                    b.Property<long>("ProcessTypeId")
                        .HasColumnType("bigint")
                        .HasColumnName("process_type_id")
                        .HasComment("製程類型id");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("DefaultMakeTypeId");

                    b.HasIndex("Number")
                        .IsUnique();

                    b.HasIndex("ProcessTypeId");

                    b.ToTable("processes", "sprm", t =>
                        {
                            t.HasComment("製程");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.RoutingProcesses.RoutingProcess", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<int?>("ExportTime")
                        .HasColumnType("integer")
                        .HasColumnName("export_time")
                        .HasComment("下料工時(毫秒)");

                    b.Property<int?>("ImportTime")
                        .HasColumnType("integer")
                        .HasColumnName("import_time")
                        .HasComment("上料工時(毫秒)");

                    b.Property<long>("MakeTypeId")
                        .HasColumnType("bigint")
                        .HasColumnName("make_type_id")
                        .HasComment("製造類型id");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("number")
                        .HasComment("途程內編號");

                    b.Property<int>("Order")
                        .HasColumnType("integer")
                        .HasColumnName("order")
                        .HasComment("製程順序");

                    b.Property<long>("ProcessId")
                        .HasColumnType("bigint")
                        .HasColumnName("process_id")
                        .HasComment("製程id");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<long>("RoutingVersionId")
                        .HasColumnType("bigint")
                        .HasColumnName("routing_version_id")
                        .HasComment("途程版本id");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("MakeTypeId");

                    b.HasIndex("ProcessId");

                    b.HasIndex("RoutingVersionId", "Number")
                        .IsUnique();

                    b.ToTable("routing_processes", "sprm", t =>
                        {
                            t.HasComment("途程之製程");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.RoutingUsages.RoutingUsage", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<JsonDocument>("CustomValues")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("custom_values")
                        .HasComment("自訂屬性值");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("number")
                        .HasComment("使用關係編號");

                    b.Property<long?>("ParentUsageId")
                        .HasColumnType("bigint")
                        .HasColumnName("parent_usage_id")
                        .HasComment("該使用關係所屬的父使用關係id");

                    b.Property<long>("ProcessId")
                        .HasColumnType("bigint")
                        .HasColumnName("process_id")
                        .HasComment("製程id");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<long>("RootVersionId")
                        .HasColumnType("bigint")
                        .HasColumnName("root_version_id")
                        .HasComment("該使用關係所屬工藝路徑版本的id");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("ParentUsageId");

                    b.HasIndex("ProcessId");

                    b.HasIndex("RootVersionId", "Number")
                        .IsUnique();

                    b.ToTable("routing_usages", "sprm", t =>
                        {
                            t.HasComment("工藝路徑使用關係");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.Routings.Routing", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<bool>("Checkout")
                        .HasColumnType("boolean")
                        .HasColumnName("checkout")
                        .HasComment("是否簽出");

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<bool>("IsDefault")
                        .HasColumnType("boolean")
                        .HasColumnName("is_default")
                        .HasComment("是否為預設工藝路徑");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("name")
                        .HasComment("工藝路徑名稱");

                    b.Property<long>("PartId")
                        .HasColumnType("bigint")
                        .HasColumnName("part_id")
                        .HasComment("對應料件id");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.HasKey("Id");

                    b.HasIndex("PartId", "Name")
                        .IsUnique();

                    b.ToTable("routings", "sprm", t =>
                        {
                            t.HasComment("工藝路徑");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.Routings.RoutingVersion", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id")
                        .HasColumnOrder(0)
                        .HasComment("system id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("create_date")
                        .HasColumnOrder(2)
                        .HasComment("Create date");

                    b.Property<string>("CreateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("create_user")
                        .HasColumnOrder(1)
                        .HasComment("Creator");

                    b.Property<JsonDocument>("CustomValues")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("custom_values")
                        .HasComment("自訂屬性值");

                    b.Property<bool>("IsDraft")
                        .HasColumnType("boolean")
                        .HasColumnName("is_draft")
                        .HasComment("是否為草稿");

                    b.Property<bool>("IsLatest")
                        .HasColumnType("boolean")
                        .HasColumnName("is_latest")
                        .HasComment("是否為最新版");

                    b.Property<long>("MasterId")
                        .HasColumnType("bigint")
                        .HasColumnName("master_id")
                        .HasComment("master id");

                    b.Property<string>("Remarks")
                        .HasColumnType("text")
                        .HasColumnName("remarks")
                        .HasColumnOrder(5)
                        .HasComment("Remarks");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("update_date")
                        .HasColumnOrder(4)
                        .HasComment("Update date");

                    b.Property<string>("UpdateUser")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("update_user")
                        .HasColumnOrder(3)
                        .HasComment("Updator");

                    b.Property<int>("Version")
                        .HasColumnType("integer")
                        .HasColumnName("version")
                        .HasComment("版本號");

                    b.HasKey("Id");

                    b.HasIndex("MasterId", "Version")
                        .IsUnique();

                    b.ToTable("routing_versions", "sprm", t =>
                        {
                            t.HasComment("工藝路徑版本");
                        });
                });

            modelBuilder.Entity("SprmApi.Core.Customs.AttributeLink", b =>
                {
                    b.HasOne("SprmApi.Core.Customs.CustomAttribute", "Attribute")
                        .WithMany()
                        .HasForeignKey("AttributeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("SprmApi.Core.ObjectTypes.ObjectType", "ObjectType")
                        .WithMany()
                        .HasForeignKey("ObjectTypeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Attribute");

                    b.Navigation("ObjectType");
                });

            modelBuilder.Entity("SprmApi.Core.PartUsages.PartUsage", b =>
                {
                    b.HasOne("SprmApi.Core.Parts.Part", "Child")
                        .WithMany("ParentPartUsages")
                        .HasForeignKey("ChildId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("SprmApi.Core.Parts.PartVersion", "Parent")
                        .WithMany("PartUsages")
                        .HasForeignKey("ParentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Child");

                    b.Navigation("Parent");
                });

            modelBuilder.Entity("SprmApi.Core.Parts.PartVersion", b =>
                {
                    b.HasOne("SprmApi.Core.Parts.Part", "Master")
                        .WithMany("PartVersions")
                        .HasForeignKey("MasterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Master");
                });

            modelBuilder.Entity("SprmApi.Core.Processes.Process", b =>
                {
                    b.HasOne("SprmApi.Core.MakeTypes.MakeType", "MakeType")
                        .WithMany("Processes")
                        .HasForeignKey("DefaultMakeTypeId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("SprmApi.Core.ProcessTypes.ProcessType", "ProcessType")
                        .WithMany("Processes")
                        .HasForeignKey("ProcessTypeId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("MakeType");

                    b.Navigation("ProcessType");
                });

            modelBuilder.Entity("SprmApi.Core.RoutingProcesses.RoutingProcess", b =>
                {
                    b.HasOne("SprmApi.Core.MakeTypes.MakeType", "MakeType")
                        .WithMany()
                        .HasForeignKey("MakeTypeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("SprmApi.Core.Processes.Process", "Process")
                        .WithMany()
                        .HasForeignKey("ProcessId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("SprmApi.Core.Routings.RoutingVersion", "RoutingVersion")
                        .WithMany()
                        .HasForeignKey("RoutingVersionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("MakeType");

                    b.Navigation("Process");

                    b.Navigation("RoutingVersion");
                });

            modelBuilder.Entity("SprmApi.Core.RoutingUsages.RoutingUsage", b =>
                {
                    b.HasOne("SprmApi.Core.RoutingUsages.RoutingUsage", "ParentUsage")
                        .WithMany()
                        .HasForeignKey("ParentUsageId");

                    b.HasOne("SprmApi.Core.Processes.Process", "Process")
                        .WithMany("RoutingUsages")
                        .HasForeignKey("ProcessId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("SprmApi.Core.Routings.RoutingVersion", "RootVersion")
                        .WithMany()
                        .HasForeignKey("RootVersionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ParentUsage");

                    b.Navigation("Process");

                    b.Navigation("RootVersion");
                });

            modelBuilder.Entity("SprmApi.Core.Routings.Routing", b =>
                {
                    b.HasOne("SprmApi.Core.Parts.Part", "Part")
                        .WithMany("Routings")
                        .HasForeignKey("PartId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Part");
                });

            modelBuilder.Entity("SprmApi.Core.Routings.RoutingVersion", b =>
                {
                    b.HasOne("SprmApi.Core.Routings.Routing", "Master")
                        .WithMany("RoutingVersions")
                        .HasForeignKey("MasterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Master");
                });

            modelBuilder.Entity("SprmApi.Core.MakeTypes.MakeType", b =>
                {
                    b.Navigation("Processes");
                });

            modelBuilder.Entity("SprmApi.Core.Parts.Part", b =>
                {
                    b.Navigation("ParentPartUsages");

                    b.Navigation("PartVersions");

                    b.Navigation("Routings");
                });

            modelBuilder.Entity("SprmApi.Core.Parts.PartVersion", b =>
                {
                    b.Navigation("PartUsages");
                });

            modelBuilder.Entity("SprmApi.Core.ProcessTypes.ProcessType", b =>
                {
                    b.Navigation("Processes");
                });

            modelBuilder.Entity("SprmApi.Core.Processes.Process", b =>
                {
                    b.Navigation("RoutingUsages");
                });

            modelBuilder.Entity("SprmApi.Core.Routings.Routing", b =>
                {
                    b.Navigation("RoutingVersions");
                });
#pragma warning restore 612, 618
        }
    }
}
